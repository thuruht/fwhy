<!DOCTYPE html>
<html lang="en">
<head>
    <title>FAREWELL | HOWDY | KCMO - Howdy and Farewell - Kansas City</title>
    <link rel="icon" type="image/x-icon" href="./img/favicon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="./css/ccssss.css">
    
    <!-- GSAP and Plugins -->
    <script src="./jss/gsap-public/minified/gsap.min.js"></script>
    <script src="./jss/gsap-public/minified/ScrollTrigger.min.js"></script>
    <script src="./jss/gsap-public/minified/MotionPathPlugin.min.js"></script>
    <script src="./jss/gsap-public/minified/CustomEase.min.js"></script>

    <!--  Custom JS -->
      <script defer src="./jss/ifrevl.js"></script>
    <script defer src="./jss/ansik.js"></script>
    <!--<script defer src="./jss/modal.js"></script>-->
    <style>
      .card {
        position: relative;
        display: inline-block; 
        text-align:center; 
        align-items:center;
        align-content:center;
        justify-content:center;
        margin: 0 auto;
    }

    #credEt {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        background: #1d0202bf;
        color: #b9b9b9cc;
        padding: auto;
        opacity: 0;
        transform: translateY(10px);
        transition: all 0.5s ease;
        pointer-events: none;
        box-shadow: 0 -2px 10px rgba(255, 144, 144, 0.1);
        -webkit-backdrop-filter: blur(2px);
        backdrop-filter: blur(2px);
        max-height: 70vh; 
        overflow: auto;
    }

    .card:hover #credEt {
        opacity: 1;
        transform: translateY(0);
        pointer-events: auto;
    }

    #credEt a {
        color: #00ccaacc;
        text-decoration: none;
    }
     #credEt a:hover {
        text-decoration: underline;
    }
    
    </style>
</head>

<body data-state="farewell">
  <header class="feader" style="min-height:212px;">
      <div class="contain">
          <div class="left">
              <nav>
                  <ul>
                      <li><a href="./booking.htm">BOOKING</a></li>
                      <li><a href="./more.htm">MORE</a></li>
                      <li><a href="./about.htm">ABOUT</a></li>
                  </ul>
              </nav>
          </div>
          <div class="right">
              <h1 class="header-title">
                  <span class="span2">FAREWELL</span>
                  <span class="sulk drop-wiggle"> & HOWDY &nbsp;<span id="swico"><img src="./img/swap.png" class="insect flipp cocoon" alt="click-drag"></span></span>
              </h1>
          </div>
      </div>


  </header>

  <main class="grid-container">
     <!-- Calendar -->
  <div class="card" id="calendar"> 
      <img src="./img/fwcal.png" class="cally" alt="events calendar">
      <div id="credEt" class="dynamic-calendar-links"><hr>
      <p><small>
        calendar graphic (and the other swell graphics and general layout of this site) designed by the excellent <a href="https://austinchapmandesign.com/" target="_blank" rel="noopener">austin chapman</a> - however, any parts of the site that you dislike, that are animated annoyingly, bitcrushed, badly implemented, or the like, may instead be blamed on me (<a href="https://ntapkc.com" target="_blank" rel="noopener">jojo</a>), with the exception of show/event flyers, which are variously sourced</small></p>
        <hr> || <a href="#" class="open-popup">view show listings</a> || <a href="#">get .ics file</a> || <a href="#" target="_blank">view google calendar</a> ||<hr>
      </div>
  </div>

<!-- Newsletter Card -->
<div class="card" id="newsletter">
  <section style="width:100%;">
      <h2>NEWSLETTER</h2>
      <h3>Sign up or miss out!</h3>
      <img src="./img/fwm.png" alt="mascot" class="nicic flipp squi-rmbreth">

      <hr style="color: transparent; padding:24px; border: 0px transparent;">

      <!-- Kit Form Container -->
      <div id="kit_embed_shell" style="width:100%; max-width:468px; margin:0 auto; padding:0; background:transparent;">
          <!-- Custom Kit Form that matches your original design -->
          <form id="kit-newsletter-form" style="margin:0; padding:0; width:100%;">
              <div style="width:100%; padding:0;">
                  <!-- Email Field -->
                  <div style="margin-bottom:12px; width:100%;">
                      <input type="email" name="email_address" id="kit-email" 
                             style="width:100%; height:35px; padding:10px;
                                    border:1px solid var(--nav-border-color);
                                    background:rgba(255,255,255,0.9);
                                    font-family:var(--font-hnm11); font-size:1rem;
                                    box-sizing:border-box;"
                             placeholder="youremail@fart.com" required>
                  </div>

                  <!-- Response Messages -->
                  <div id="kit-responses" style="width:100%; margin:0; padding:0;">
                      <div id="kit-error-response" style="display:none; color:#ea4110; margin:8px 0; padding:8px; background:#fde8e2; border:1px solid #f2643b; border-radius:4px; font-size:14px;"></div>
                      <div id="kit-success-response" style="display:none; color:#0c905c; margin:8px 0; padding:8px; background:#d3fbeb; border:1px solid #10bf7a; border-radius:4px; font-size:14px;"></div>
                  </div>

                  <div style="width:100%; margin:0; padding:0;">
                      <button type="submit" id="kit-submit-btn"
                              style="width:100%; height:35px; margin:12px 0 0 0;
                                     padding:0; background:var(--button-bg-color);
                                     border:1px solid var(--nav-border-color);
                                     color:var(--button-text-color); font-family:var(--font-main);
                                     cursor:pointer; transition:all var(--transition-speed) ease;
                                     box-sizing:border-box; position:relative; font-weight:bold;">
                          <span id="kit-submit-text">SUBSCRIBE</span>
                          <div id="kit-spinner" style="display:none; position:absolute; top:50%; left:50%; transform:translate(-50%, -50%);">
                              <div style="width:12px; height:12px; background-color:currentColor; opacity:0.3; border-radius:100%; display:inline-block; animation:kit-bounce 1.4s infinite ease-in-out both;"></div>
                          </div>
                      </button>
                  </div>
              </div>
          </form>
      </div>

      <hr style="color:transparent; padding:24px; border:0;">
  </section>

<style>
@keyframes kit-bounce {
    0%, 80%, 100% { transform: scale(0); }
    40% { transform: scale(1); }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('kit-newsletter-form');
    if (form) {
        form.addEventListener('submit', async function(event) {
            event.preventDefault();
            
            const email = document.getElementById('kit-email').value;
            const submitBtn = document.getElementById('kit-submit-btn');
            const submitText = document.getElementById('kit-submit-text');
            const spinner = document.getElementById('kit-spinner');
            const errorDiv = document.getElementById('kit-error-response');
            const successDiv = document.getElementById('kit-success-response');
            
            // Hide previous messages
            errorDiv.style.display = 'none';
            successDiv.style.display = 'none';
            
            // Show loading state
            submitText.style.opacity = '0';
            spinner.style.display = 'block';
            submitBtn.disabled = true;
            submitBtn.style.cursor = 'not-allowed';
            
            try {
                // Use Kit's public API endpoint with proper headers
                const response = await fetch('https://app.kit.com/forms/8151329/subscriptions', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json',
                    },
                    body: JSON.stringify({
                        email_address: email,
                        // Include the UID from your Kit form
                        uid: 'ee38b9f6eb'
                    })
                });
                
                const result = await response.json();
                
                if (response.ok) {
                    successDiv.textContent = 'Success! Now check your email to confirm your subscription.';
                    successDiv.style.display = 'block';
                    form.reset();
                } else {
                    throw new Error(result.message || 'Subscription failed');
                }
            } catch (error) {
                console.error('Kit subscription error:', error);
                errorDiv.textContent = 'Something went wrong. Please try again.';
                errorDiv.style.display = 'block';
            } finally {
                // Reset button state
                submitText.style.opacity = '1';
                spinner.style.display = 'none';
                submitBtn.disabled = false;
                submitBtn.style.cursor = 'pointer';
            }
        });
    }
});
</script>
</div>


      <!-- Contact -->
     <div class="card" id="contact">
      <section>
          <h2>CONTACT</h2>
          <h3>816•500•4552</h3>
          <img src="./img/fm.png" alt="Contact Icon" class="flip squi-rmbreth conic">
      <hr style="color: transparent; padding:24px; border: 0px transparent;">
          <div class="social-icons">
            <ul style="text-decoration: none;">
          <li class="sopc flip squi-rmbreth">
              <a href="#facebook" class="open-popup">
                  <img src="./img/fc.png" alt="Facebook" style="width:24px; height: auto;"> Facebook
              </a>
          </li>
          <li class="sopc flipp squi-rmbreth">
              <a href="#instagram" class="open-popup">
                  <img src="./img/gi.png" alt="Instagram" style="width:24px; height: auto;"> Instagram
              </a>
          </li>
          <li class="sopc flip squi-rmbreth">
              <a href="#twitter" class="open-popup">
                  <img src="./img/xt.png" alt="Twitter" style="width:24px; height: auto;"> Twitter
              </a>
          </li>
  
          <li class="sopc flipp squi-rmbreth">
              <a href="#spotify" class="open-popup">
                  <img src="./img/ps.png" alt="Spotify" style="width:24px; height: auto;"> Spotify
              </a>
          </li>
          <li class="sopc flip squi-rmbreth">
              <a href="#secret" class="open-popup">
                  <img src="./img/secret.png" alt="Linktr.ee" style="width:24px; height: auto;"> Linktr.ee
              </a>
          </li>
          <li class="sopc flipp squi-rmbreth">
              <a href="https://discord.com/invite/WuVCc2Qu3t" class="open-popup">
                  <img src="./img/dis.png" alt="Discord" style="width:24px; height: auto;"> Discord
              </a>
          </li>
          </div>
      <hr style="color: transparent; padding:24px; border: 0px transparent;">
          <img src="./img/fm2.png" alt="Contact Icon" class="conica">
      <hr style="color: transparent; padding:24px; border: 0px transparent;">
        </section>
      </div>        


<div class="card" id="event">

<div class="sorting-controls" style="align-items: center; text-align: center; justify-content: space-between;">
          <label for="sort-select">Sort By:</label>
          <select id="sort-select">
              <option value="soonest"><span style="font-family: inherit; font-weight: inherit; font-size: inherit; color: inherit;">Soonest Event</span></option>
              <option value="past"><span style="font-family: inherit; font-weight: inherit; font-size: inherit; color: inherit;">Past Events</span></option>
          </select><!--
                 <span style="opacity: 0.4;">  <a href="#" class="admin-upload-link" ><button type="button" id="openAdminModalBtn">open uploader</button></a></span>
                 -->
      </div>
      <!-- Loading Indicator -->


      <!-- Slideshow Container -->
      <div class="slideshow-container">
      
          <div class="slide">
            <img id="slide-image" src="" alt="Slideshow Image Loading...">
        
          </div>
         
          <!-- Navigation Buttons -->
          <button class="nav-button prev" id="prev-button" aria-label="Previous Slide">&#10094;</button>
          <button class="nav-button next" id="next-button" aria-label="Next Slide">&#10095;</button>
        
      </div>
       <!--<div class="caption"< !-- id="slide-caption"></div>   -->
       <!-- <span class="material-icons">lightbulb</span> --> <div style="background:#ff000022;"><p><small>
 The following links will return different results when viewing the site as farewell, or howdy -<br> make sure you see howdy hank if you want those shows, or that moon dude for ones at farewell -<br> if you want the other venue, switch modes first @ top right of the page!</small></p>
<hr> || <a class="cal-link-listing open-popup" href="#shows">view show listings</a> ||
    <a class="cal-link-ics" href="#">get .ics file</a> || 
    <a class="cal-link-gcal" href="#" target="_blank">view google calendar</a> ||<hr>
</div>



  </main>
<div id="news" style="width:100%;">
<iframe src="./u/index.html" style="border: 0; width:100%; min-height:40vh;" frameborder="0" onload="onIframeLoad(this)" /></iframe>
</div>
  <footer><div>
      <p id="address">6515 STADIUM DRIVE, KANSAS CITY, MISSOURI</p></div>
  </footer><div class="main-calendar-links"></div>
  <script src="./jss/script.js"></script>


</body></html>
